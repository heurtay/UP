def sort_by_digit_and_value(nums):
    n = len(nums)

    # Внешний цикл для прохода по всему списку, кроме последнего элемента
    for i in range(n - 1):
        # Инициализируем индекс минимального элемента как текущий
        index_min = i

        # Внутренний цикл для поиска элемента с "наибольшим приоритетом"
        # в оставшейся несортированной части списка
        for j in range(i + 1, n):
            # Вычисляем последнюю цифру текущего элемента (k) и элемента-кандидата на минимум (kl)
            # Используем abs() для корректной работы с отрицательными числами
            k = abs(nums[j]) % 10
            kl = abs(nums[index_min]) % 10

            # Основное условие сортировки: если последняя цифра текущего элемента больше,
            # чем у кандидата на минимум, то обновляем index_min
            if k > kl:
                index_min = j
            # Вторичное условие сортировки: если последние цифры равны,
            # то выбираем тот элемент, который меньше по значению (сортировка по возрастанию)
            elif k == kl and nums[j] < nums[index_min]:
                index_min = j

        # Меняем местами текущий элемент с найденным "наибольшим приоритетом"
        nums[i], nums[index_min] = nums[index_min], nums[i]

# Тестовые случаи
nums = [5, 11, 183, 19, 274]
sort_by_digit_and_value(nums)
print(nums) # Ожидается: [11, 274, 183, 5, 19] (сортировка по последней цифре убыванию: 4,3,1,9,5 -> 4,3,1,9,5)
            # 4 (274), 3 (183), 1 (11), 9 (19), 5 (5)
            # Ошибка в ожидании: 4(274), 3(183), 9(19), 5(5), 1(11). Должно быть: [274, 183, 19, 5, 11]

nums = [5, 11, 185, 19, 271]
sort_by_digit_and_value(nums)
print(nums) # Ожидается: [185, 5, 19, 11, 271] (сортировка по последней цифре убыванию: 5,1,9,1 -> 5,5,9,1,1)
            # 5(185), 5(5). 185 > 5, значит 5 должна быть раньше. Ожидается: [5, 185, 19, 11, 271]

nums = [1]
sort_by_digit_and_value(nums)
print(nums) # Ожидается: [1]

nums = [11111, 1111, 111, 11, 1]
sort_by_digit_and_value(nums)
print(nums) # Ожидается: [11111, 1111, 111, 11, 1] (все заканчиваются на 1, сортируются по возрастанию значения)

nums = [11, 12, 13, 14, 15]
sort_by_digit_and_value(nums)
print(nums) # Ожидается: [15, 14, 13, 12, 11] (по последней цифре убыванию)

nums = [6, -2, 7, 2, -6]
sort_by_digit_and_value(nums)
print(nums) # Ожидается: [7, 6, -6, 2, -2] (последние цифры: 7, 2, 7, 2, 6. Сортировка: 7,7,6,2,2. Значение: -6,6, -2,2)
            # 7(7), 7(несет), 6(6), 2(-2), 2(2). -2 < 2, -6 < 6.
            # Ожидается: [7, -6, 6, -2, 2]